<!doctype html><html lang=en-us><head><title>|
TrackHackers</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.119.0"><link rel=canonical href=/seasonals/analytical-write-up/><link rel=preload href="https://fonts.googleapis.com/css2?family=Victor+Mono&display=swap" as=style><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Victor+Mono&display=swap"><link href=/sass/main.min.0c6fac2b01c501d0155438357366f80039780d242c21edafb68a4036e9b69c8a.css rel=stylesheet><script src=https://kit.fontawesome.com/406767c203.js crossorigin=anonymous></script></head><body><header><a href=/>#TrackHackers@Hack-The-Box ~ $</a><nav><ul><li><a href=/boxes title><i class="fa-solid fa-desktop"></i>
~/boxes</a></li><li><a href=/seasonals title><i class="fa-solid fa-pen-to-square"></i>
~/seasonals</a></li><li><a href=/tools title><i class="fa-solid fa-wrench"></i>
~/tools</a></li><li><a href=/about title><i class="fa-solid fa-user"></i>
~/about</a></li></ul></nav></header><main class="content main"><h1></h1><section><dl><dt></dt><dd><time datetime=0001-01-01>January 1, 1</time></dd><dt></dt><dd></dd></dl></section><h1 id=seasonal-3-2023---analytical-linux-easy>Seasonal 3 2023 - Analytical; Linux Easy</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>echo <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>box-ip<span style=color:#e6db74>}</span><span style=color:#e6db74> analytical.htb&#34;</span> | sudo tee -a /etc/hosts
</span></span></code></pre></div><ol><li>Recon with nmap <code>nmap -sCV analytical.htb</code>
Shows the following ports to be open;</li></ol><ul><li>22/tcp</li><li>80/tcp</li></ul><p><img src=./Analytical-Write-up.assets/image-20231008192409695-1696785851729-1.png alt=image-20231008192409695></p><p>This tells me we need to use the browser, so off we go. It&rsquo;s a simple site with a login option.</p><p><img src=./Analytical-Write-up.assets/image-20231008192538636-1696785941148-3.png alt=image-20231008192538636></p><p>The login menu is actually pointing to <a href=data.analytical.htb>data.analytical.htb</a>, which is leads to a 404. So we need to add that one to our hosts file as well. And then we reach a login page &ldquo;Sign in to Metabase&rdquo;</p><p><img src=./Analytical-Write-up.assets/image-20231008195943837-1696787985598-5.png alt=Metabase></p><p>So we&rsquo;ll just drop to our trusted burpsuite.</p><p>We also hit google to find out more on metabase; googling for &lsquo;metabase+exploit&rsquo; we find :</p><p><a href=https://infosecwriteups.com/cve-2023-38646-metabase-pre-auth-rce-866220684396>CVE-2023–38646 — Metabase Pre-Auth RCE | by shamooo | Aug, 2023 | InfoSec Write-ups (infosecwriteups.com)</a></p><p>That google search was amazing, we have a setup-token.</p><p><img src=./Analytical-Write-up.assets/image-20231008201427346-1696788869015-7.png alt=image-20231008201427346></p><p>So, we know <a href="https://github.com/shamo0/CVE-2023-38646-PoC?source=post_page-----866220684396--------------------------------">shamo0/CVE-2023-38646-PoC: Metabase Pre-auth RCE (github.com)</a> can be used. <a href=https://blog.assetnote.io/2023/07/22/pre-auth-rce-metabase/>Chaining our way to Pre-Auth RCE in Metabase (CVE-2023-38646) – Assetnote</a></p></main><footer class=footer><span>© 2023 TrackHackers Powered by
<a href=https://gohugo.io class=footerLink>Hugo</a></span></footer></body></html>